{% extends "_generic.njk" %}

{% from "cookie-banner/macro.njk" import govukCookieBanner %}

{% set homepage_url = "/" %}
{% set pageTitle = "Testing Cookie Banner" %}
{% block pageTitle %}{{ pageTitle }} - GOV.UK{% endblock %}

{% block cookieBanner %}
  {% if cookieConsent === "accept" %}
    {{ govukCookieBanner({
      confirmationBanners: [
        {
          html: "<p>You've accepted additional cookies. You can <a href='/cookie-preferences'>change your cookie settings</a> at any time.</p>"
        }
      ]
    }) }}
  {% elif cookieConsent === "reject" %}
    {{ govukCookieBanner({
      confirmationBanners: [
        {
          html: "<p>You've rejected additional cookies. You can <a href='/cookie-preferences'>change your cookie settings</a> at any time.</p>"
        }
      ]
    }) }}
  {% else %}
    <form method='post'>
      {{ govukCookieBanner({
        questionBanner: {
          title: "Cookies on [service name]",
          html: "<p>We use cookies to make this service work</p><p>We'd like to set some additional cookies so we can remember your settings, understand how you use the service and make improvements.</p>",
          acceptButtonText: "Accept cookies",
          acceptButtonHref: "/full-page-examples/cookie-banner-server?cookies=accept",
          rejectButtonText: "Reject cookies",
          rejectButtonHref: "/full-page-examples/cookie-banner-server?cookies=reject",
          link: {
            text: "View cookies and set preferences",
            href: "/cookie-preferences"
          }
        }
      }) }}
    </form>
  {% endif %}
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <h1 class="govuk-heading-xl">
       {{ pageTitle }}
      </h1>

      <p class="govuk-body">Scenario: Server Side</p>
      <p class="govuk-body">
        <ul class="govuk-list">
          <li>Render just 'question' banner</li>
          <li>User chooses an option</li>
          <li>Refresh page</li>
          <li>Render just 'accept/reject' banner</li>
        </ul>
      </p>

    </div>
  </div>

{% endblock %}
