{% set menuButtonText = params.menuButtonText if params.menuButtonText else 'Menu' %}

<header class="govuk-header {{ params.classes if params.classes }}" role="banner" data-module="govuk-header"
  {%- for attribute, value in params.attributes %} {{attribute}}="{{value}}"{% endfor %}>
  <div class="govuk-header__container {{ params.containerClasses | default("govuk-width-container", true) }}">
    <div class="govuk-header__logo">
      <a href="{{ params.homepageUrl | default('/', true) }}" class="govuk-header__link govuk-header__link--homepage">
        {#- The SVG needs `focusable="false"` so that Internet Explorer does
        not treat it as an interactive element - without this it will be
        'focusable' when using the keyboard to navigate.

        We use a single compound path for the logo to uneven prevent subpixel
        rounding shifting elements around relative to one another. #}
        <svg
          focusable="false"
          role="img"
          class="govuk-header__logotype"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 148 30"
          height="30"
          width="148">
          <title>GOV.UK</title>
          <path d="M16 29.2c4.5 0 8.7.3 12.4.8 1-4.5 2.3-7 3.7-8.8l-2.5-.9c.2 1.3.2 1.9 0 2.7-.4-.4-.8-1.2-1.1-2.3l-1.3 4c.8-.5 1.4-.8 2-.8-1.1 2.5-2.6 3.1-3.5 3a1.8 1.8 0 0 1-1.5-2.2c.2-1.2 1.5-1.5 2 0 1.2-2.4-.7-3-2-2.4 2-1.9 2.2-3.5.7-5.6-2.1 1.7-2.2 3.3-1.2 5.5-1.3-1.4-3.2-.6-2.5 1.6.9-1.3 2-.5 1.9.8-.2 1.2-1.7 2.1-3.5 2-2.7-.3-2.9-2.2-3-3.7.7-.1 1.9.5 2.9 2l.4-4.3a4.1 4.1 0 0 1-3.2 1.4c.3-1.2 2-3 2-3h-5.3s1.7 1.8 2 3c-1 0-2-.3-3.2-1.4l.4 4.2c1-1.4 2.2-2 2.9-1.9 0 1.6-.2 3.4-3 3.6-1.8.2-3.3-.7-3.5-1.9-.2-1.3 1-2.1 1.9-.8.7-2.2-1.2-3-2.5-1.6 1-2.2 1-3.8-1.1-5.5-1.6 2-1.3 3.7.5 5.6-1.2-.7-3.1 0-2 2.3.6-1.4 1.9-1 2.1.1.2 1-.3 2-1.5 2.1-.9.2-2.3-.4-3.5-3 .7.1 1.2.4 2 1l-1.2-4.1A5.1 5.1 0 0 1 2.5 23c-.2-.8-.2-1.4 0-2.7l-2.4.9C1.4 23 2.7 25.6 3.7 30c3.8-.5 8-.8 12.3-.8m6.6-18.8a1.8 1.8 0 0 1-2.4-1 1.8 1.8 0 0 1 1-2.4c1-.4 2 0 2.4 1 .4 1 0 2-1 2.4m-5.8 6.7a1.8 1.8 0 0 1-2.4-1 1.8 1.8 0 0 1 1-2.4c.9-.4 2 0 2.4 1 .3.9-.1 2-1 2.4m10.8-3.7a1.8 1.8 0 0 1-2.4-1 1.8 1.8 0 0 1 1-2.5c1-.3 2 .1 2.4 1 .4 1 0 2-1 2.5m3.2 4.8c-.9.4-2 0-2.4-1a1.8 1.8 0 0 1 1-2.4c1-.4 2 0 2.5 1 .3 1-.1 2-1 2.4M17 4.7l2.4 1.2V2.5l-2.3.7-.3-.2 1-3h-3.4l1 3h-.1l-.2.2-2.4-.7v3.4l2.4-1.2.2.2L14 9l-.1.7c0 1.1.8 2 1.8 2.2h.6a2.2 2.2 0 0 0 2-2.2L18 9l-1.3-4c0-.2.2-.2.2-.3m-7.6 5.7c1 .4 2 0 2.5-1 .6-1.3-.5-2.7-1.9-2.6A1.8 1.8 0 0 0 8.5 8c-.4 1 0 2 1 2.4m-5 3c1 .3 2-.1 2.4-1a1.8 1.8 0 0 0-1-2.5c-1-.3-2 .1-2.4 1-.4 1 0 2 1 2.5m-3.3 4.8c1 .4 2 0 2.5-1a1.8 1.8 0 0 0-1-2.4c-1-.4-2 0-2.5 1-.3 1 .1 2 1 2.4m103 9.9c-1.4.6-3 0-3.5-1.4-.6-1.4.1-3 1.5-3.5 1.3-.6 3 .1 3.5 1.5.6 1.3-.1 2.8-1.5 3.4M44.4 17.6c0 .9.1 1.7.3 2.5.3.9.6 1.6 1 2.2a5 5 0 0 0 1.8 1.6c.7.4 1.6.6 2.6.6s1.7-.2 2.3-.5a4 4 0 0 0 2.3-2.6c.2-.5.2-1 .2-1.5v-.2h-5.3v-3.2H59V28h-3.7v-2.5l-1 1.2a7.2 7.2 0 0 1-3 1.4l-1.8.2c-1.5 0-2.9-.3-4-.8a8.6 8.6 0 0 1-3-2.3 10 10 0 0 1-2-3.5 13.8 13.8 0 0 1-.6-4.2c0-1.5.2-3 .7-4.2A9.5 9.5 0 0 1 50 6.7 11.3 11.3 0 0 1 55.3 8a8.4 8.4 0 0 1 3.4 3.6l-3.8 2a7 7 0 0 0-.7-1.2 5 5 0 0 0-4.1-1.9c-1 0-1.9.2-2.6.6-.7.4-1.3.9-1.8 1.5-.4.6-.8 1.4-1 2.2-.2.9-.3 1.7-.3 2.6v.2ZM71.8 6.7a9.4 9.4 0 0 1 9.3 6.6 13 13 0 0 1 0 8.5 10 10 0 0 1-2 3.4c-.8 1-1.9 1.7-3.1 2.3a10 10 0 0 1-4.2.8c-1.6 0-3-.3-4.2-.8a9 9 0 0 1-3.2-2.3c-.8-1-1.5-2.2-2-3.5-.4-1.3-.6-2.7-.6-4.2s.2-3 .6-4.2a9.8 9.8 0 0 1 2-3.5c.9-1 2-1.7 3.2-2.3 1.2-.5 2.6-.8 4.2-.8Zm0 17.8c.9 0 1.7-.2 2.4-.6s1.3-.8 1.8-1.4.8-1.3 1-2.2c.3-.8.4-1.7.4-2.7v-.2c0-1-.1-1.8-.4-2.7-.2-.8-.6-1.6-1-2.2-.5-.6-1.1-1-1.8-1.4-.7-.4-1.5-.5-2.4-.5-1 0-1.8.1-2.5.5-.7.3-1.2.8-1.7 1.4s-.9 1.4-1.1 2.2c-.3.8-.4 1.8-.4 2.8 0 1 .1 2 .4 2.8.2.9.6 1.6 1 2.2a5 5 0 0 0 1.8 1.4c.8.4 1.6.6 2.5.6Zm17 3.5-6-21h4.8l4 15.8h.2l4-15.8h4.7l-6 21h-5.7Zm29-3.5c.6 0 1.1-.1 1.7-.3a3.7 3.7 0 0 0 1.3-.8 4 4 0 0 0 1-1.4c.2-.6.3-1.2.3-2V7h4.2v13.6c0 1.2-.2 2.2-.7 3.2a7 7 0 0 1-1.7 2.4c-.8.7-1.7 1.2-2.7 1.6-1 .3-2.2.5-3.5.5s-2.3-.2-3.4-.5a8 8 0 0 1-2.7-1.6 7 7 0 0 1-1.8-2.4c-.4-1-.6-2-.6-3.2V7h4.2v13c0 .7.1 1.4.3 2l1 1.4 1.3.8c.6.2 1.1.3 1.7.3ZM130.3 7h4.3v9.1l7.5-9.1h5.2l-7.3 8.4L148 28h-5l-5.5-9.4-2.7 3V28h-4.3V7Z" />
        </svg>
        {% if (params.productName) %}
        <span class="govuk-header__product-name">
          {{ params.productName }}
        </span>
        {% endif %}
      </a>
    </div>
    {% if params.serviceName or params.navigation  %}
    <div class="govuk-header__content">
    {% if params.serviceName %}
    {% if params.serviceUrl %}
      <a href="{{ params.serviceUrl }}" class="govuk-header__link govuk-header__service-name">
        {{ params.serviceName }}
      </a>
    {% else%}
      <span class="govuk-header__service-name">
        {{ params.serviceName }}
      </span>
    {% endif %}
    {% endif %}
    {% if params.navigation %}
    <nav aria-label="{{ params.navigationLabel | default(menuButtonText, true) }}" class="govuk-header__navigation {{ params.navigationClasses if params.navigationClasses }}">
      <button type="button" class="govuk-header__menu-button govuk-js-header-toggle" aria-controls="navigation"{%- if params.menuButtonLabel and params.menuButtonLabel != menuButtonText %} aria-label="{{ params.menuButtonLabel }}"{% endif %} hidden>{{ menuButtonText }}</button>

      <ul id="navigation" class="govuk-header__navigation-list">
        {% for item in params.navigation %}
          {% if item.text or item.html %}
            <li class="govuk-header__navigation-item{{ ' govuk-header__navigation-item--active' if item.active }}">
              {% if item.href %}
                <a class="govuk-header__link" href="{{ item.href }}"{% for attribute, value in item.attributes %} {{attribute}}="{{value}}"{% endfor %}>
              {% endif %}
                {{ item.html | safe if item.html else item.text }}
              {% if item.href %}
                </a>
              {% endif %}
            </li>
          {% endif %}
        {% endfor %}
      </ul>
    </nav>
    {% endif %}
    </div>
    {% endif %}
  </div>
</header>
