{% set menuButtonText = params.menuButtonText if params.menuButtonText else 'Menu' -%}

<header class="govuk-header {%- if params.classes %} {{ params.classes }}{% endif %}" role="banner" data-module="govuk-header"
  {%- for attribute, value in params.attributes %} {{ attribute }}="{{ value }}"{% endfor %}>
  <div class="govuk-header__container {{ params.containerClasses | default("govuk-width-container", true) }}">
    <div class="govuk-header__logo">
      <a href="{{ params.homepageUrl | default('/', true) }}" class="govuk-header__link govuk-header__link--homepage">
        {#- The SVG needs `focusable="false"` so that Internet Explorer does
        not treat it as an interactive element - without this it will be
        'focusable' when using the keyboard to navigate. #}
        <svg
          focusable="false"
          role="img"
          class="govuk-header__logotype"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 152 30"
          height="30"
          width="152">
          <title>GOV.UK</title>
          <path d="M48.4 17.6c0 .9.1 1.8.3 2.6.2.8.6 1.6 1 2.2s1 1.1 1.8 1.5c.7.4 1.6.6 2.6.6s1.7-.1 2.4-.5 1.1-.7 1.5-1.1.6-.9.8-1.5.2-1 .2-1.5v-.2h-5.4v-3.2h9.5V28h-3.7v-2.4c-.3.4-.6.8-1 1.1s-.8.6-1.3.9-1 .4-1.6.6c-.6.1-1.2.2-1.8.2-1.5 0-2.9-.3-4.1-.8-1.2-.5-2.2-1.3-3-2.3s-1.4-2.1-1.9-3.4c-.4-1.3-.6-2.7-.6-4.2s.2-2.9.7-4.2c.5-1.3 1.2-2.5 2-3.4.9-1 1.9-1.7 3.2-2.3 1.2-.6 2.6-.8 4.2-.8 1 0 1.9.1 2.8.3s1.7.6 2.4 1 1.4.9 2 1.5c.6.6 1 1.3 1.4 2L59 13.7c-.2-.4-.5-.9-.8-1.2-.3-.4-.7-.7-1.1-1-.4-.3-.8-.5-1.3-.7s-1.1-.2-1.7-.2c-1 0-1.8.2-2.6.6-.7.4-1.3.9-1.8 1.5s-.8 1.4-1 2.2c-.2.8-.3 1.7-.3 2.6v.1zM75.8 6.7c1.6 0 3 .3 4.2.8s2.3 1.3 3.2 2.3 1.5 2.1 2 3.4.7 2.7.7 4.2-.2 2.9-.7 4.2-1.1 2.5-2 3.4-1.9 1.7-3.2 2.3-2.6.8-4.2.8-3-.3-4.2-.8-2.3-1.3-3.2-2.3-1.5-2.1-2-3.4-.7-2.7-.7-4.2.2-2.9.7-4.2 1.1-2.5 2-3.4 1.9-1.7 3.2-2.3 2.6-.8 4.2-.8zm0 17.8c.9 0 1.7-.2 2.4-.5s1.3-.8 1.8-1.4.8-1.3 1.1-2.2.4-1.8.4-2.8v-.1c0-1-.1-1.9-.4-2.8s-.6-1.6-1.1-2.2-1.1-1.1-1.8-1.4-1.5-.5-2.4-.5-1.7.2-2.4.5-1.3.8-1.8 1.4c-.5.6-.8 1.4-1.1 2.2s-.4 1.8-.4 2.8v.1c0 1 .1 1.9.4 2.8s.6 1.6 1.1 2.2 1.1 1.1 1.8 1.4 1.5.5 2.4.5zM92.8 28 86.9 7h4.8l4.1 15.8h.2L100 7h4.7l-5.9 21h-6zM104.5 25.6c0-.4.1-.7.2-1s.3-.6.6-.8.5-.4.9-.6.7-.2 1-.2.7.1 1 .2.6.3.8.6.4.5.6.8.2.7.2 1-.1.7-.2 1-.3.6-.6.9-.5.4-.8.6-.7.2-1 .2-.7-.1-1-.2-.6-.3-.9-.6-.4-.5-.6-.9-.2-.6-.2-1zM121.8 24.5c.6 0 1.2-.1 1.7-.3s1-.5 1.4-.8.7-.8.9-1.4.3-1.2.3-2V7h4.2v13.6c0 1.2-.2 2.2-.6 3.2s-1 1.8-1.8 2.4-1.7 1.2-2.7 1.5-2.2.5-3.4.5-2.4-.2-3.4-.5-1.9-.9-2.7-1.5c-.8-.7-1.3-1.5-1.8-2.4s-.6-2-.6-3.2V7h4.2v13c0 .8.1 1.4.3 2s.5 1 .9 1.4.8.6 1.4.8 1.1.3 1.7.3zM134.5 7h4.2v9.1l7.5-9.1h5.2l-7.3 8.4 7.8 12.6H147l-5.6-9.4-2.7 3V28h-4.2V7zM6.7 12.2c1 .4 2.1-.1 2.5-1s-.1-2.1-1-2.5c-1-.4-2.1.1-2.5 1-.4 1 0 2.1 1 2.5M2.4 14.7c1 .4 2.1-.1 2.5-1s-.1-2.1-1-2.5c-1-.4-2.1.1-2.5 1-.5 1 0 2.1 1 2.5M1.1 19.5c1 .4 2.1-.1 2.5-1 .4-1-.1-2.1-1-2.5-1-.4-2.1.1-2.5 1-.4 1 0 2.1 1 2.5M11.5 13.7c1 .4 2.1-.1 2.5-1s-.1-2.1-1-2.5c-1-.4-2.1.1-2.5 1s0 2.1 1 2.5M28.9 12.2c-1 .4-2.1-.1-2.5-1s.1-2.1 1-2.5c1-.4 2.1.1 2.5 1 .5 1 0 2.1-1 2.5M33.2 14.7c-1 .4-2.1-.1-2.5-1s.1-2.1 1-2.5c1-.4 2.1.1 2.5 1 .5 1 0 2.1-1 2.5M34.5 19.5c-1 .4-2.1-.1-2.5-1-.4-1 .1-2.1 1-2.5 1-.4 2.1.1 2.5 1 .4 1 0 2.1-1 2.5M24.1 13.7c-1 .4-2.1-.1-2.5-1s.1-2.1 1-2.5c1-.4 2.1.1 2.5 1s0 2.1-1 2.5M18.8 8.8l2.4 1.3V6.5l-2.4.8c-.1-.1-.1-.2-.2-.2s1-3 1-3h-3.4l1 3c-.1.1-.2.1-.2.2-.1.1-2.4-.7-2.4-.7v3.5L17 8.8c-.1.1 0 .2.1.3l-1.4 4.2c-.1.2-.1.4-.1.7 0 1.1.8 2.1 1.9 2.2h.6C19.2 16 20 15.1 20 14c0-.2 0-.4-.1-.7l-1.4-4.2c.2-.1.3-.2.3-.3M17.8 29.1c4.6 0 8.9.3 12.8.9 1.1-4.6 2.4-7.2 3.8-9.1l-2.6-.9c.3 1.3.3 1.9 0 2.8-.4-.4-.8-1.2-1.1-2.4l-1.2 4.2c.8-.5 1.4-.9 2-.9-1.2 2.6-2.7 3.2-3.6 3-1.2-.2-1.7-1.3-1.5-2.2.3-1.3 1.6-1.6 2.2-.1 1.2-2.4-.8-3.1-2.1-2.4 1.9-1.9 2.2-3.6.6-5.7-2.2 1.7-2.2 3.3-1.2 5.6-1.3-1.5-3.3-.7-2.5 1.7.9-1.4 2.1-.5 2 .8-.2 1.2-1.7 2.1-3.7 2-2.8-.2-3-2.2-3-3.7.7-.1 1.9.5 3 2l.4-4.4c-1.1 1.2-2.2 1.4-3.3 1.4.4-1.2 2.1-3.1 2.1-3.1h-5.5s1.8 2 2.1 3.1c-1.1 0-2.2-.3-3.3-1.4l.4 4.4c1.1-1.5 2.3-2.1 3-2-.1 1.6-.2 3.5-3 3.7-1.9.2-3.5-.8-3.7-2-.2-1.3 1-2.2 1.9-.8.7-2.4-1.3-3.1-2.6-1.7 1-2.3 1-4-1.2-5.6-1.6 2.1-1.3 3.8.6 5.7-1.3-.7-3.2 0-2.1 2.4.6-1.5 1.9-1.1 2.2.1.2.9-.4 1.9-1.5 2.2-1 .2-2.5-.5-3.7-3 .7 0 1.3.4 2 .9L5 20.4c-.3 1.2-.7 1.9-1.2 2.4-.3-.8-.2-1.5 0-2.8l-2.6.9C2.7 22.8 4 25.4 5.1 30c3.8-.5 8.2-.9 12.7-.9"/>
        </svg>
        {% if (params.productName) %}
        <span class="govuk-header__product-name">
          {{ params.productName }}
        </span>
        {% endif %}
      </a>
    </div>
    {% if params.serviceName or params.navigation  %}
    <div class="govuk-header__content">
    {% if params.serviceName %}
    {% if params.serviceUrl %}
      <a href="{{ params.serviceUrl }}" class="govuk-header__link govuk-header__service-name">
        {{ params.serviceName }}
      </a>
    {% else%}
      <span class="govuk-header__service-name">
        {{ params.serviceName }}
      </span>
    {% endif %}
    {% endif %}
    {% if params.navigation %}
    <nav aria-label="{{ params.navigationLabel | default(menuButtonText, true) }}" class="govuk-header__navigation {%- if params.navigationClasses %} {{ params.navigationClasses }}{% endif %}">
      <button type="button" class="govuk-header__menu-button govuk-js-header-toggle" aria-controls="navigation" {%- if params.menuButtonLabel and params.menuButtonLabel != menuButtonText %} aria-label="{{ params.menuButtonLabel }}"{% endif %} hidden>{{ menuButtonText }}</button>

      <ul id="navigation" class="govuk-header__navigation-list">
        {% for item in params.navigation %}
          {% if item.text or item.html %}
            <li class="govuk-header__navigation-item {%- if item.active %} govuk-header__navigation-item--active{% endif %}">
              {% if item.href %}
                <a class="govuk-header__link" href="{{ item.href }}" {%- for attribute, value in item.attributes %} {{ attribute }}="{{ value }}"{% endfor %}>
              {% endif %}
                {{ item.html | safe if item.html else item.text }}
              {% if item.href %}
                </a>
              {% endif %}
            </li>
          {% endif %}
        {% endfor %}
      </ul>
    </nav>
    {% endif %}
    </div>
    {% endif %}
  </div>
</header>
